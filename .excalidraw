<svg version="1.1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1508 706" width="1508" height="706">
  <!-- svg-source:excalidraw -->
  <!-- payload-type:application/vnd.excalidraw+json --><!-- payload-version:2 --><!-- payload-start -->eyJ2ZXJzaW9uIjoiMSIsImVuY29kaW5nIjoiYnN0cmluZyIsImNvbXByZXNzZWQiOnRydWUsImVuY29kZWQiOiJ4nO1XS2/jNlx1MDAxML7vryC8h+02tiMrsmxcdTAwMDdFgexut1xyXG60RbPdXCKoe6ClkcWYJlx1MDAxNZKy4yb5752hbD1cdTAwMWNcdTAwMWZ66ikyYIic1zffjEbi41x1MDAxYsZ6bldA75L14CHhUqSGb3t92t+AsUIrXHUwMDE0hX5tdWlcdTAwMTKvubGJTmGwhcVGwPby/DyAKJ6sN3eb7C6Y6pG7XHUwMDBiL1xulVx1MDAwMd+kM5VNsot8s5mVI55HuVxcLkf393FcdTAwMTJOqiAgYVxyyll0+1x1MDAxN65cdTAwMTl79P8tWFx1MDAwZVx1MDAxZZzX9btccqiLSXC8+4tWXHUwMDFl4CiOgmBcdTAwMTaMwkZD2E9cdTAwMTjKQYrijEtcdTAwMGKNhLZ6cX43uL29/eDW0f3Pu6ScfP316+cmbCakvHE76Vx1MDAxMeU8yUtcdTAwMDON1DqjV/CnSF1O0Y/2azurkd7GyuhymSuwtmOjXHUwMDBinlxit6O9oIHP1dL7aHZcdTAwMWWIgiBcdTAwMWNikrMwmI4mwXhcdTAwMTKOazE5iOPhOFxuoiiKZ6PZZDxcdTAwMWRcdTAwMWZcdTAwMDH7qKU2XHUwMDA07G1cdTAwMTBcdTAwMDRccq5cdTAwMDVPVktcdTAwMDSn0lrBXHUwMDE5rmzBXHJWqtHbXHUwMDFl8o2m03ozXHUwMDA3scxcdTAwMWRcdTAwMDWfxk048Lwj1ChcbuPpqMmC4lx1MDAxNNepL//fx7zl3Fx1MDAxNHt+epZcdTAwMTYtjFx1MDAwNO+HVu80xmWR8qrOo3hcdTAwMWNi3vhcdTAwMTeNwlouhVqhUJVSNuXVyt2If4jhVs/Q7me+XHUwMDE2ctepkG9IhMRa11x1MDAxZoqXLkcwXCKh4G1cdTAwMTG7akvm6mxQX2ck/lx1MDAxZO5LsI5u/5PobK6eXHUwMDFh5y1cdTAwMTO6vke7XHUwMDFiMPg8nFx1MDAxNO2vJ+/io1x1MDAxNFxiXHUwMDBiV6x7PZ28rddXv13XLmpcdTAwMTTfdWOdsa1wOVvB7oSoheI4YfaJO/5cIrG9SS3rcEG/KpOBUMJcdE+/qYizXGJDSpZpKfWWuVxcWGbBXGKwTGdcZjbUO5dkP1x1MDAxYbIvObCkXCJkzVeowVx1MDAwZk6Y0+ycXHUwMDE34txANVx1MDAwMdk3mTZcZlx1MDAxZfi6kPCe7MPK3lbEXHUwMDFiSEBs0Fx1MDAwNZb94IS0LjpavChApZWShVx1MDAwNOdcdPtRuJ/KXHUwMDA1xluBYrxcdTAwMTLBQ1x1MDAwMVx0pTTvtfpcYmfdvMdy4ClcdTAwMThyXHUwMDFkdVxcn0iAXFxR4VxiOeYyqDSHpZFHqXk4fI2BVVpoodz7qpTeQVx1MDAwN0Ar/Lhcbk9cdTAwMDE6yWO0LTdpU1x1MDAxMMZVytpPimXCsVx1MDAwNbeoglx1MDAxZclGwVbuXHUwMDA23DlcdTAwMWOyuNtcdTAwMDSJmyDWM0dcdNpCK1x1MDAwYodcZvf514BxXHUwMDEwcDKddOjZo1wiiNy98FE1XHUwMDAxWU3RSnsyq9bZarPqs50uWWH0gi/kjqVavXMs51x1MDAxYm9uIIVMKDiw/Vx1MDAwZbNTXHUwMDBlTMaRWa1cdTAwMWFOXHUwMDE5xuXMiTVcZtm1slx1MDAwZXNkXHSCXHUwMDEwmCqidE6oJStcdTAwMGLUwf5NXHUwMDEzXHUwMDA0y3BOOujPXHUwMDE19sH5t1j7bS6SnCGqhFx1MDAxN1xiXHUwMDA1qKPx1pWGbPedN1xcg8t16lmnJZabZUavvVxcqESvSXlfmz6rSD/Yn6x2n81cdTAwMTV5Q1ZcdTAwMGV6vltOtFrFdp8tXHUwMDAwXHSHXHUwMDE34PasU4k8PqopSX0/JKtuOYbtt5NcdTAwMDVcdTAwMWPhNKrjyawzlK+kWNKXQU9C1v1koCxkLXa69SZB3lx1MDAxZEd/5jo9fitoI5ZCcfnldeC/XHUwMDBl/NeB/zrwX1x1MDAwN/7/N/D9XHUwMDEwfsZ//2Xfw6fnxmH/4Fx1MDAxY65OiHh0XHUwMDEw6f6bvZnaPTqQfnh5gHmbZVx1MDAxObl89s7wNFx1MDAwN3RqeHx+8/wvvfqMPyJ9<!-- payload-end -->
  <defs>
    <style>
      @font-face {
        font-family: "Virgil";
        src: url("https://excalidraw.com/Virgil.woff2");
      }
      @font-face {
        font-family: "Cascadia";
        src: url("https://excalidraw.com/Cascadia.woff2");
      }
    </style>
  </defs>
  <rect x="0" y="0" width="1508" height="706" fill="#fff"></rect><g transform="translate(10 10.000000000000014) rotate(0 744 343)"><text x="0" y="18.40740740740741" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#000" text-anchor="start" style="white-space: pre;" direction="ltr">            Unauthenticated             Authenticated</text><text x="0" y="43.81481481481482" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#000" text-anchor="start" style="white-space: pre;" direction="ltr">+----------+    Request    +----------+    Request    +---------+</text><text x="0" y="69.22222222222223" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#000" text-anchor="start" style="white-space: pre;" direction="ltr">|          +--------------&gt;+  Server  +--------------&gt;+         |</text><text x="0" y="94.62962962962963" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#000" text-anchor="start" style="white-space: pre;" direction="ltr">|  Client  |               |          |               |   API   |</text><text x="0" y="120.03703703703704" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#000" text-anchor="start" style="white-space: pre;" direction="ltr">|          +&lt;--------------+ with key +&lt;--------------+         |</text><text x="0" y="145.44444444444446" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#000" text-anchor="start" style="white-space: pre;" direction="ltr">+----------+     Data      +----------+      Data     +---------+</text><text x="0" y="170.85185185185185" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#000" text-anchor="start" style="white-space: pre;" direction="ltr"></text><text x="0" y="196.25925925925927" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#000" text-anchor="start" style="white-space: pre;" direction="ltr"></text><text x="0" y="221.66666666666669" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#000" text-anchor="start" style="white-space: pre;" direction="ltr">Client-initiated requests will follow this series of events:</text><text x="0" y="247.07407407407408" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#000" text-anchor="start" style="white-space: pre;" direction="ltr"></text><text x="0" y="272.48148148148147" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#000" text-anchor="start" style="white-space: pre;" direction="ltr">1. The client makes a request to /api/resource (for example)</text><text x="0" y="297.8888888888889" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#000" text-anchor="start" style="white-space: pre;" direction="ltr"></text><text x="0" y="323.2962962962963" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#000" text-anchor="start" style="white-space: pre;" direction="ltr">2. The server receives the request</text><text x="0" y="348.7037037037037" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#000" text-anchor="start" style="white-space: pre;" direction="ltr"></text><text x="0" y="374.11111111111114" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#000" text-anchor="start" style="white-space: pre;" direction="ltr">3. The server appends the secure GitHub token as the expected "Authentication" header</text><text x="0" y="399.51851851851853" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#000" text-anchor="start" style="white-space: pre;" direction="ltr"></text><text x="0" y="424.9259259259259" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#000" text-anchor="start" style="white-space: pre;" direction="ltr">4. The server makes a request to the API for api-server.url/api/resource (the same endpoint) with the Authentication header</text><text x="0" y="450.33333333333337" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#000" text-anchor="start" style="white-space: pre;" direction="ltr"></text><text x="0" y="475.74074074074076" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#000" text-anchor="start" style="white-space: pre;" direction="ltr">5. The API receives the forwarded request and authenticates it based on the newly-attached header</text><text x="0" y="501.14814814814815" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#000" text-anchor="start" style="white-space: pre;" direction="ltr"></text><text x="0" y="526.5555555555555" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#000" text-anchor="start" style="white-space: pre;" direction="ltr">6. The API sends a response to the server with the data</text><text x="0" y="551.9629629629629" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#000" text-anchor="start" style="white-space: pre;" direction="ltr"></text><text x="0" y="577.3703703703704" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#000" text-anchor="start" style="white-space: pre;" direction="ltr">7. The server forwards that response to the client</text><text x="0" y="602.7777777777778" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#000" text-anchor="start" style="white-space: pre;" direction="ltr"></text><text x="0" y="628.1851851851852" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#000" text-anchor="start" style="white-space: pre;" direction="ltr">8. To make this work, you probably don't have to redefine the API's interface one endpoint at a time. Instead consider setting up a wildcard route,</text><text x="0" y="653.5925925925926" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#000" text-anchor="start" style="white-space: pre;" direction="ltr"> "/*" which is capable of capturing the req.method and req.url from the incoming request, attaching the Authentication header, </text><text x="0" y="679" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#000" text-anchor="start" style="white-space: pre;" direction="ltr">and making the same request to the API server, before capturing the response data and sending it back to the client.</text></g></svg>